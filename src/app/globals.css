@import "tailwindcss";

@plugin "@tailwindcss/typography";
@plugin "tailwindcss-animate";

@custom-variant dark (&:where(.dark, .dark *));

@utility container {
  margin-inline: auto;
  width: 100%;
  padding-inline: 1rem;
  @media (width >= 640px) {
    padding-inline: 1.5rem;
  }
  @media (width >= 1024px) {
    padding-inline: 2rem;
  }
  @media (width >= 1440px) {
    max-width: 1440px;
  }
}

@theme {
  /* 폰트 패밀리 - 디자인 가이드 준수 */
  --font-family-sans: var(--font-sans), "Noto Sans KR", "Inter", ui-sans-serif, system-ui, sans-serif;
  --font-family-mono: var(--font-mono), "JetBrains Mono", ui-monospace, "Cascadia Code", "Source Code Pro", monospace;

  /* 색상 시스템 - shadcn/ui 표준 + 디자인 가이드 */
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  /* 라운드 모서리 - 디자인 가이드 */
  --radius-lg: 0.75rem;    /* 12px - 모달 */
  --radius-md: 0.5rem;     /* 8px - 카드 */
  --radius-sm: 0.375rem;   /* 6px - 버튼, 이미지 */

  /* 그림자 시스템 - 디자인 가이드 */
  --shadow-card: 0 1px 3px rgb(0 0 0 / 0.1), 0 1px 2px rgb(0 0 0 / 0.06);
  --shadow-modal: 0 20px 25px rgb(0 0 0 / 0.15), 0 10px 10px rgb(0 0 0 / 0.04);
  --shadow-button-hover: 0 4px 6px rgb(0 0 0 / 0.1);

  /* 애니메이션 */
  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;
  --animate-scan: scan 2s ease-in-out infinite;
  --animate-shimmer: shimmer 2s infinite;

  /* 타이포그래피 스케일 */
  --text-h1: 32px;
  --text-h2: 24px;
  --text-h3: 20px;
  --text-body-large: 18px;
  --text-body: 16px;
  --text-body-small: 14px;
  --text-caption: 12px;

  /* 줄 간격 */
  --leading-heading: 1.3;
  --leading-body: 1.5;

  /* 자간 */
  --tracking-korean: -0.01em;
  --tracking-english: 0em;

  /* 레이아웃 - 8pt Grid System */
  --spacing-unit: 0.5rem;   /* 8px */
  --spacing-xs: 0.25rem;    /* 4px */
  --spacing-sm: 0.5rem;     /* 8px */
  --spacing-md: 1rem;       /* 16px */
  --spacing-lg: 1.5rem;     /* 24px */
  --spacing-xl: 2rem;       /* 32px */

  /* 터치 영역 최소값 */
  --touch-target: 44px;

  /* 네비게이션 높이 */
  --nav-height-mobile: 64px;
  --nav-height-desktop: 72px;

  @keyframes accordion-down {
    from {
      height: 0;
    }
    to {
      height: var(--radix-accordion-content-height);
    }
  }

  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }
    to {
      height: 0;
    }
  }

  @keyframes scan {
    0% {
      top: 0;
    }
    50% {
      top: 100%;
    }
    100% {
      top: 0;
    }
  }

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: calc(200% + 0px) 0;
    }
  }
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@layer base {
  :root {
    /* Light Mode - Design Guide Color Palette */
    --background: 210 25% 97%;           /* #F7F9FB Ghost White */
    --foreground: 0 0% 17%;              /* #2B2B2B Charcoal */
    --card: 0 0% 100%;                   /* #FFFFFF Pure White */
    --card-foreground: 0 0% 17%;         /* #2B2B2B Charcoal */
    --popover: 0 0% 100%;                /* #FFFFFF Pure White */
    --popover-foreground: 0 0% 17%;      /* #2B2B2B Charcoal */

    /* Primary: Deep Navy #1E2A38 */
    --primary: 210 35% 17%;
    --primary-foreground: 0 0% 98%;      /* #FAFAFA White text */

    /* Secondary: Steel Blue #4F6D7A */
    --secondary: 200 23% 40%;
    --secondary-foreground: 0 0% 98%;    /* #FAFAFA White text */

    /* Muted: Light gray backgrounds */
    --muted: 210 20% 96%;
    --muted-foreground: 202 11% 40%;     /* #5C6973 Slate Gray */

    /* Accent: Emerald #2ECC71 */
    --accent: 145 63% 49%;
    --accent-foreground: 0 0% 17%;       /* #2B2B2B Dark text */

    /* Destructive: Crimson #E24C4B */
    --destructive: 1 71% 59%;
    --destructive-foreground: 0 0% 98%;  /* #FAFAFA White text */

    /* Borders & Inputs */
    --border: 210 15% 87%;               /* #D1D5DB */
    --input: 210 15% 87%;                /* #D1D5DB */
    --ring: 145 63% 49%;                 /* Accent color for focus ring */

    /* Radius - Design Guide */
    --radius: 0.5rem;                    /* 8px */

    /* Chart colors */
    --chart-1: 145 63% 49%;              /* Emerald */
    --chart-2: 200 23% 40%;              /* Steel Blue */
    --chart-3: 210 35% 17%;              /* Deep Navy */
    --chart-4: 43 74% 66%;               /* Warm accent */
    --chart-5: 1 71% 59%;                /* Crimson */
  }

  .dark {
    /* Dark Mode - Design Guide Color Palette */
    --background: 0 0% 7%;               /* #121212 */
    --foreground: 0 0% 88%;              /* #E1E1E1 Text Primary */
    --card: 0 0% 12%;                    /* #1E1E1E */
    --card-foreground: 0 0% 88%;         /* #E1E1E1 Text Primary */
    --popover: 0 0% 12%;                 /* #1E1E1E */
    --popover-foreground: 0 0% 88%;      /* #E1E1E1 Text Primary */

    /* Primary: Lighter Navy for Dark Mode #2A3A4A */
    --primary: 210 29% 23%;
    --primary-foreground: 0 0% 98%;      /* #FAFAFA White text */

    /* Secondary: Steel Blue (slightly brighter) */
    --secondary: 200 25% 45%;
    --secondary-foreground: 0 0% 98%;    /* #FAFAFA White text */

    /* Muted: Dark backgrounds */
    --muted: 0 0% 15%;
    --muted-foreground: 0 0% 63%;        /* #A1A1A1 Text Secondary */

    /* Accent: Emerald (same as light mode) */
    --accent: 145 63% 49%;
    --accent-foreground: 0 0% 7%;        /* #121212 Dark text */

    /* Destructive: Crimson (slightly adjusted) */
    --destructive: 1 65% 55%;
    --destructive-foreground: 0 0% 98%;  /* #FAFAFA White text */

    /* Borders & Inputs */
    --border: 0 0% 20%;
    --input: 0 0% 20%;
    --ring: 145 63% 49%;                 /* Accent color for focus ring */

    /* Chart colors (adjusted for dark mode) */
    --chart-1: 145 63% 55%;              /* Emerald (brighter) */
    --chart-2: 200 30% 50%;              /* Steel Blue (brighter) */
    --chart-3: 210 35% 30%;              /* Deep Navy (brighter) */
    --chart-4: 43 74% 70%;               /* Warm accent (brighter) */
    --chart-5: 1 71% 65%;                /* Crimson (brighter) */
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: var(--font-family-sans);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* 타이포그래피 - 디자인 가이드 준수 */
  h1 {
    @apply text-3xl font-semibold;
    font-size: 32px;
    font-weight: 600;
    line-height: 1.3;
  }

  h2 {
    @apply text-2xl font-semibold;
    font-size: 24px;
    font-weight: 600;
    line-height: 1.3;
  }

  h3 {
    @apply text-xl font-semibold;
    font-size: 20px;
    font-weight: 600;
    line-height: 1.3;
  }

  p {
    @apply text-base;
    font-size: 16px;
    font-weight: 400;
    line-height: 1.5;
  }

  /* 코드/숫자 - 모노 폰트 */
  code, pre, kbd {
    font-family: var(--font-family-mono);
  }

  /* 접근성 개선 */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

/* 유틸리티 클래스 - 디자인 시스템 */
@layer utilities {
  /* 타이포그래피 유틸리티 */
  .text-heading-1 {
    @apply text-3xl font-semibold;
    line-height: 1.3;
  }

  .text-heading-2 {
    @apply text-2xl font-semibold;
    line-height: 1.3;
  }

  .text-heading-3 {
    @apply text-xl font-semibold;
    line-height: 1.3;
  }

  .text-body-large {
    @apply text-lg font-normal;
    line-height: 1.5;
  }

  .text-body {
    @apply text-base font-normal;
    line-height: 1.5;
  }

  .text-body-small {
    @apply text-sm font-normal;
    line-height: 1.5;
  }

  .text-caption {
    @apply text-xs font-medium;
    line-height: 1.5;
  }

  /* 그림자 유틸리티 */
  .shadow-card {
    @apply shadow;
    box-shadow: var(--shadow-card);
  }

  .shadow-modal {
    @apply shadow-2xl;
    box-shadow: var(--shadow-modal);
  }

  .shadow-button-hover {
    box-shadow: var(--shadow-button-hover);
  }

  /* 버튼 높이 유틸리티 */
  .btn-mobile {
    @apply h-12;
    min-height: 48px;
  }

  .btn-desktop {
    @apply h-11;
    min-height: 44px;
  }

  /* 터치 영역 보장 */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }

  /* 네비게이션 높이 */
  .nav-mobile {
    height: 64px;
  }

  .nav-desktop {
    height: 72px;
  }

  /* 컨테이너 패딩 */
  .px-mobile {
    @apply px-4;
  }

  .px-tablet {
    @apply md:px-6;
  }

  .px-desktop {
    @apply lg:px-8;
  }

  /* 목록 스타일 */
  .list-default {
    @apply space-y-2;
  }

  .list-spaced {
    @apply space-y-4;
  }

  /* 카드 스타일 */
  .card-base {
    border-radius: 8px;
    box-shadow: var(--shadow-card);
    @apply bg-card text-card-foreground p-4;
  }

  .card-interactive {
    border-radius: 8px;
    box-shadow: var(--shadow-card);
    @apply bg-card text-card-foreground p-4 transition-all duration-200 hover:shadow-button-hover cursor-pointer;
  }

  /* 입력 필드 스타일 */
  .input-base {
    border-radius: 6px;
    @apply h-12 px-4 py-3 border border-input bg-background text-foreground placeholder-muted-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent;
  }

  /* 상태 배지 */
  .badge-success {
    border-radius: 6px;
    @apply bg-accent/10 text-accent px-2 py-1 text-xs font-medium;
  }

  .badge-error {
    border-radius: 6px;
    @apply bg-destructive/10 text-destructive px-2 py-1 text-xs font-medium;
  }

  .badge-warning {
    border-radius: 6px;
    @apply bg-yellow-100 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 px-2 py-1 text-xs font-medium;
  }

  .badge-info {
    border-radius: 6px;
    @apply bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 px-2 py-1 text-xs font-medium;
  }

  /* 스켈레톤 로딩 */
  .skeleton {
    @apply bg-muted animate-pulse;
    background-image: linear-gradient(90deg, hsl(var(--muted)) 0%, hsl(var(--muted)/.5) 50%, hsl(var(--muted)) 100%);
    background-size: 200% 100%;
    animation: shimmer 2s infinite;
  }

  /* 플렉스 중앙 정렬 */
  .flex-center {
    @apply flex items-center justify-center;
  }

  .flex-between {
    @apply flex items-center justify-between;
  }

  /* 그리드 반응형 */
  .grid-mobile {
    @apply grid grid-cols-1;
  }

  .grid-tablet {
    @apply md:grid-cols-2;
  }

  .grid-desktop {
    @apply lg:grid-cols-3;
  }

  /* 텍스트 절단 */
  .truncate-1 {
    @apply truncate;
  }

  .truncate-2 {
    @apply line-clamp-2;
  }

  .truncate-3 {
    @apply line-clamp-3;
  }

  /* 포커스 상태 */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 dark:focus:ring-offset-background;
  }

  /* 트랜지션 */
  .transition-smooth {
    @apply transition-all duration-300 ease-in-out;
  }

  .transition-fast {
    @apply transition-all duration-150 ease-in;
  }

  /* 비활성화 상태 */
  .disabled-state {
    @apply opacity-50 cursor-not-allowed;
  }
}

/* 폼 컴포넌트 개선 */
@layer components {
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="search"],
  textarea,
  select {
    border-radius: 6px;
    @apply h-12 px-4 py-3 border border-input bg-background text-foreground placeholder-muted-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent;
  }

  button {
    @apply transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 dark:focus:ring-offset-background;
  }
}
