@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Light Mode - Design Guide Color Palette */
    --background: 210 25% 97%;           /* #F7F9FB Ghost White */
    --foreground: 0 0% 17%;              /* #2B2B2B Charcoal */
    --card: 0 0% 100%;                   /* #FFFFFF Pure White */
    --card-foreground: 0 0% 17%;         /* #2B2B2B Charcoal */
    --popover: 0 0% 100%;                /* #FFFFFF Pure White */
    --popover-foreground: 0 0% 17%;      /* #2B2B2B Charcoal */

    /* Primary: Deep Navy #1E2A38 */
    --primary: 210 35% 17%;
    --primary-foreground: 0 0% 98%;      /* #FAFAFA White text */

    /* Secondary: Steel Blue #4F6D7A */
    --secondary: 200 23% 40%;
    --secondary-foreground: 0 0% 98%;    /* #FAFAFA White text */

    /* Muted: Light gray backgrounds */
    --muted: 210 20% 96%;
    --muted-foreground: 202 11% 40%;     /* #5C6973 Slate Gray */

    /* Accent: Emerald #2ECC71 */
    --accent: 145 63% 49%;
    --accent-foreground: 0 0% 17%;       /* #2B2B2B Dark text */

    /* Destructive: Crimson #E24C4B */
    --destructive: 1 71% 59%;
    --destructive-foreground: 0 0% 98%;  /* #FAFAFA White text */

    /* Borders & Inputs */
    --border: 210 15% 87%;               /* #D1D5DB */
    --input: 210 15% 87%;                /* #D1D5DB */
    --ring: 145 63% 49%;                 /* Accent color for focus ring */

    /* Radius - Design Guide */
    --radius: 0.5rem;                    /* 8px */

    /* Chart colors */
    --chart-1: 145 63% 49%;              /* Emerald */
    --chart-2: 200 23% 40%;              /* Steel Blue */
    --chart-3: 210 35% 17%;              /* Deep Navy */
    --chart-4: 43 74% 66%;               /* Warm accent */
    --chart-5: 1 71% 59%;                /* Crimson */
  }

  .dark {
    /* Dark Mode - Design Guide Color Palette */
    --background: 0 0% 7%;               /* #121212 */
    --foreground: 0 0% 88%;              /* #E1E1E1 Text Primary */
    --card: 0 0% 12%;                    /* #1E1E1E */
    --card-foreground: 0 0% 88%;         /* #E1E1E1 Text Primary */
    --popover: 0 0% 12%;                 /* #1E1E1E */
    --popover-foreground: 0 0% 88%;      /* #E1E1E1 Text Primary */

    /* Primary: Lighter Navy for Dark Mode #2A3A4A */
    --primary: 210 29% 23%;
    --primary-foreground: 0 0% 98%;      /* #FAFAFA White text */

    /* Secondary: Steel Blue (slightly brighter) */
    --secondary: 200 25% 45%;
    --secondary-foreground: 0 0% 98%;    /* #FAFAFA White text */

    /* Muted: Dark backgrounds */
    --muted: 0 0% 15%;
    --muted-foreground: 0 0% 63%;        /* #A1A1A1 Text Secondary */

    /* Accent: Emerald (same as light mode) */
    --accent: 145 63% 49%;
    --accent-foreground: 0 0% 7%;        /* #121212 Dark text */

    /* Destructive: Crimson (slightly adjusted) */
    --destructive: 1 65% 55%;
    --destructive-foreground: 0 0% 98%;  /* #FAFAFA White text */

    /* Borders & Inputs */
    --border: 0 0% 20%;
    --input: 0 0% 20%;
    --ring: 145 63% 49%;                 /* Accent color for focus ring */

    /* Chart colors (adjusted for dark mode) */
    --chart-1: 145 63% 55%;              /* Emerald (brighter) */
    --chart-2: 200 30% 50%;              /* Steel Blue (brighter) */
    --chart-3: 210 35% 30%;              /* Deep Navy (brighter) */
    --chart-4: 43 74% 70%;               /* Warm accent (brighter) */
    --chart-5: 1 71% 65%;                /* Crimson (brighter) */
  }
}

@layer base {
  * {
    @apply border-current;
    border-color: hsl(var(--border));
  }

  body {
    @apply bg-background text-foreground;
    font-family: var(--font-sans, system-ui, -apple-system, sans-serif);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* 타이포그래피 - 디자인 가이드 준수 */
  h1 {
    @apply text-3xl font-semibold;
    line-height: 1.3;
  }

  h2 {
    @apply text-2xl font-semibold;
    line-height: 1.3;
  }

  h3 {
    @apply text-xl font-semibold;
    line-height: 1.3;
  }

  p {
    @apply text-base;
    line-height: 1.5;
  }
}

/* 유틸리티 클래스 - 디자인 시스템 */
@layer utilities {
  /* 타이포그래피 유틸리티 */
  .text-heading-1 {
    @apply text-3xl font-semibold;
    line-height: 1.3;
  }

  .text-heading-2 {
    @apply text-2xl font-semibold;
    line-height: 1.3;
  }

  .text-heading-3 {
    @apply text-xl font-semibold;
    line-height: 1.3;
  }

  .text-body-large {
    @apply text-lg font-normal;
    line-height: 1.5;
  }

  .text-body {
    @apply text-base font-normal;
    line-height: 1.5;
  }

  .text-body-small {
    @apply text-sm font-normal;
    line-height: 1.5;
  }

  .text-caption {
    @apply text-xs font-medium;
    line-height: 1.5;
  }

  /* 그림자 유틸리티 */
  .shadow-card {
    @apply shadow;
    box-shadow: 0 1px 3px rgb(0 0 0 / 0.1), 0 1px 2px rgb(0 0 0 / 0.06);
  }

  .shadow-modal {
    @apply shadow-2xl;
    box-shadow: 0 20px 25px rgb(0 0 0 / 0.15), 0 10px 10px rgb(0 0 0 / 0.04);
  }

  .shadow-button-hover {
    box-shadow: 0 4px 6px rgb(0 0 0 / 0.1);
  }

  /* 버튼 높이 유틸리티 */
  .btn-mobile {
    @apply h-12;
    min-height: 48px;
  }

  .btn-desktop {
    @apply h-11;
    min-height: 44px;
  }

  /* 터치 영역 보장 */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }

  /* 네비게이션 높이 */
  .nav-mobile {
    height: 64px;
  }

  .nav-desktop {
    height: 72px;
  }

  /* 컨테이너 패딩 */
  .px-mobile {
    @apply px-4;
  }

  .px-tablet {
    @apply md:px-6;
  }

  .px-desktop {
    @apply lg:px-8;
  }

  /* 목록 스타일 */
  .list-default {
    @apply space-y-2;
  }

  .list-spaced {
    @apply space-y-4;
  }

  /* 카드 스타일 */
  .card-base {
    border-radius: 8px;
    @apply bg-card text-card-foreground p-4;
    box-shadow: 0 1px 3px rgb(0 0 0 / 0.1), 0 1px 2px rgb(0 0 0 / 0.06);
  }

  .card-interactive {
    border-radius: 8px;
    @apply bg-card text-card-foreground p-4 transition-all duration-200 hover:shadow-lg cursor-pointer;
  }

  /* 입력 필드 스타일 */
  .input-base {
    border-radius: 6px;
    @apply h-12 px-4 py-3 border border-input bg-background text-foreground placeholder-muted-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent;
  }

  /* 상태 배지 */
  .badge-success {
    border-radius: 6px;
    @apply bg-accent/10 text-accent px-2 py-1 text-xs font-medium;
  }

  .badge-error {
    border-radius: 6px;
    @apply bg-destructive/10 text-destructive px-2 py-1 text-xs font-medium;
  }

  .badge-warning {
    border-radius: 6px;
    @apply bg-yellow-100 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 px-2 py-1 text-xs font-medium;
  }

  .badge-info {
    border-radius: 6px;
    @apply bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 px-2 py-1 text-xs font-medium;
  }

  /* 스켈레톤 로딩 */
  .skeleton {
    @apply bg-muted animate-pulse;
  }

  /* 플렉스 중앙 정렬 */
  .flex-center {
    @apply flex items-center justify-center;
  }

  .flex-between {
    @apply flex items-center justify-between;
  }

  /* 그리드 반응형 */
  .grid-mobile {
    @apply grid grid-cols-1;
  }

  .grid-tablet {
    @apply md:grid-cols-2;
  }

  .grid-desktop {
    @apply lg:grid-cols-3;
  }

  /* 텍스트 절단 */
  .truncate-1 {
    @apply truncate;
  }

  .truncate-2 {
    @apply line-clamp-2;
  }

  .truncate-3 {
    @apply line-clamp-3;
  }

  /* 포커스 상태 */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 dark:focus:ring-offset-background;
  }

  /* 트랜지션 */
  .transition-smooth {
    @apply transition-all duration-300 ease-in-out;
  }

  .transition-fast {
    @apply transition-all duration-150 ease-in;
  }

  /* 비활성화 상태 */
  .disabled-state {
    @apply opacity-50 cursor-not-allowed;
  }

  /* 컨테이너 스타일 */
  .container {
    @apply mx-auto w-full px-4;
  }

  @media (min-width: 640px) {
    .container {
      @apply px-6;
    }
  }

  @media (min-width: 1024px) {
    .container {
      @apply px-8;
    }
  }

  @media (min-width: 1440px) {
    .container {
      max-width: 1440px;
    }
  }
}

/* 폼 컴포넌트 개선 */
@layer components {
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="search"],
  textarea,
  select {
    border-radius: 6px;
    @apply h-12 px-4 py-3 border border-input bg-background text-foreground placeholder-muted-foreground transition-colors focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent;
  }

  button {
    @apply transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 dark:focus:ring-offset-background;
  }
}

/* 애니메이션 */
@keyframes accordion-down {
  from {
    height: 0;
  }
  to {
    height: var(--radix-accordion-content-height);
  }
}

@keyframes accordion-up {
  from {
    height: var(--radix-accordion-content-height);
  }
  to {
    height: 0;
  }
}

@keyframes scan {
  0% {
    top: 0;
  }
  50% {
    top: 100%;
  }
  100% {
    top: 0;
  }
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: calc(200% + 0px) 0;
  }
}

@layer utilities {
  .animate-scan {
    animation: scan 2s ease-in-out infinite;
  }

  .animate-shimmer {
    animation: shimmer 2s infinite;
  }
}

/* 접근성 개선 */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
