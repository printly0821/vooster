# 다크 모드 지원 자동 수동 토글

**Task ID:** T-010
**Status:** BACKLOG
**Importance:** SHOULD
**Complexity:** 6/10
**Urgency:** 7/10
**Dependencies:** T-001, T-007

## Description

### 요구사항
- prefers color scheme 감지로 자동 다크 라이트 적용 수동 토글 제공 사용자 선택 우선 저장 및 복원
- 모든 주요 컴포넌트와 피드백 토스트 스켈레톤 이미지 뷰어에 테마 일관 적용 명암 대비 준수

### 구현 상세
- 루트 html data theme 속성에 light dark system 상태 반영 시스템 선호 감지는 matchMedia 쿼리 사용 변경 이벤트 구독
- CSS 변수 기반 디자인 토큰 색상 타이포 그림자 포커스 링 정의 컴포넌트에서 변수를 소비하도록 리팩터링
- 토글 스위치 컴포넌트는 키보드 접근 가능 aria pressed 제공 선택은 localStorage에 저장 초기 hydration 시 플래시 방지 스니펫 삽입
- 명암 대비 체크 중요한 텍스트와 인터랙션 요소는 최소 4.5 대 1 충족 다크 모드에서 이미지 뷰어 배경 블랙 계열로 조정

### 의사코드
```pseudo
function initTheme() {
  const saved = localStorage.getItem('theme')
  const system = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'
  const theme = saved && saved != 'system' ? saved : system
  document.documentElement.dataset.theme = theme
}

function toggleTheme(next) {
  localStorage.setItem('theme', next)
  document.documentElement.dataset.theme = next == 'system' ? detectSystem() : next
}
```

### 테스트 전략
- 단위 테스트 저장 복원 로직과 시스템 선호 변경 이벤트 처리 검증
- 시각 회귀 테스트 라이트 다크에서 주요 화면 대비와 색상 토큰 적용 확인
- 접근성 테스트 대비 비율 측정 포커스 가시성 체크 키보드 조작 가능 여부 검증

---

**Created:** 2025-10-11T01:49:07.937Z
**Updated:** 2025-10-11T01:49:07.937Z
