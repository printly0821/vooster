---
title: "현장 요구사항 분석"
description: "인쇄 생산 현장 바코드 시스템 - 실제 현장 요구사항 및 사용자 여정"
category: "project"
author: "Vooster Team"
date: "2025-01-14"
public: false
order: 2
---

# 인쇄 생산 현장 바코드 시스템 - 현장 요구사항 분석

> **작성일**: 2025-01-14
> **목적**: 실제 산업 현장의 작업 환경과 예외 상황을 반영한 바코드 스캔 시스템 설계

---

## 📋 1. 현장 사용자 시나리오 및 유저 플로우

### 1.1 주요 페르소나별 작업 플로우

#### 👷 현장 작업자 김라인 (인쇄물 생산 담당)

**시나리오 1: 제작 시작 전 주문 확인**
```
1. 작업대에 주문서와 원단 배치
2. 스마트폰/PDA로 웹앱 접속
3. 주문서 상단의 바코드를 스캔
   ├─ 성공 시: 주문 정보와 썸네일 즉시 표시 (≤3초)
   └─ 실패 시: 재스캔 안내 또는 수동 입력 옵션
4. 썸네일 이미지와 실제 원단 디자인 육안 비교
5. 확인 완료 후 제작 시작
6. 다음 주문으로 이동 (연속 작업)
```

**시나리오 2: 제작 중 재확인**
```
1. 작업 중 의심스러운 부분 발견
2. 최근 스캔 내역에서 해당 주문 탭
3. 썸네일 확대하여 디테일 확인
4. 문제 없음 확인 후 작업 계속
```

**시나리오 3: 연속 다중 주문 처리**
```
[주문 A 스캔] → [확인] → [다음 스캔 버튼]
    ↓
[주문 B 스캔] → [확인] → [다음 스캔 버튼]
    ↓
[주문 C 스캔] → [확인] → [이전 주문들 재확인 필요]
    ↓
[최근 내역] → [주문 A/B 빠르게 재조회]
```

#### 📊 작업 관리자 박매니 (생산 진도 모니터링)

**시나리오: 다중 작업 진행 상황 체크**
```
1. 태블릿으로 웹앱 접속
2. 여러 주문을 연속으로 빠르게 스캔 (10-15개)
3. 최근 내역에서 전체 스캔 목록 확인
4. 각 주문의 상태 확인 (제작 중/완료/대기)
5. 특정 주문에 문제 발견 시 작업자에게 전달
```

#### 🔍 품질 검사원 이QC (출력물 검수)

**시나리오: 완성품 검수**
```
1. 완성된 인쇄물 수령
2. 바코드 스캔하여 주문 정보 조회
3. 썸네일 이미지와 실제 출력물 대조
   ├─ 색상 일치 여부
   ├─ 디자인 요소 누락 여부
   └─ 사이즈/옵션 적합 여부
4. 문제 발견 시:
   ├─ 썸네일 확대하여 원본 디테일 확인
   ├─ 주문 옵션 재확인
   └─ 필요 시 재작업 지시
5. 검수 완료 후 다음 제품으로 이동
```

---

## 🏭 2. 산업 현장 환경 특성 분석

### 2.1 인쇄 생산 현장의 물리적 환경

#### 조명 환경
| 상황 | 문제점 | 발생 빈도 |
|------|--------|-----------|
| **강한 형광등** | 바코드 라벨 반사로 인식 실패 | 매우 높음 ⭐⭐⭐⭐⭐ |
| **작업대 그림자** | 작업자 몸이나 손이 가려서 어두움 | 높음 ⭐⭐⭐⭐ |
| **창문 역광** | 자연광이 카메라에 직접 들어와 인식 저하 | 중간 ⭐⭐⭐ |
| **야간 작업** | 조도 부족으로 초점 맞추기 어려움 | 중간 ⭐⭐⭐ |

#### 작업 환경
| 항목 | 특성 | 영향 |
|------|------|------|
| **먼지** | 종이/원단 가루, 잉크 입자 | 카메라 렌즈 오염, 바코드 라벨 손상 |
| **습도/온도** | 높은 습도(잉크 건조), 온도 변화 | 스마트폰 배터리 소모 증가, 화면 응답 저하 |
| **소음** | 인쇄 기계 작동음 | 음성 피드백 인식 어려움 |
| **작업 공간** | 좁고 복잡한 동선 | 한 손으로 스캔하면서 다른 손으로 작업 필요 |

#### 작업자 상태
| 상황 | 설명 | 대응 필요성 |
|------|------|-------------|
| **장갑 착용** | 작업용 장갑 또는 위생 장갑 착용 | 터치 반응성 저하, 버튼 오작동 |
| **손 떨림** | 장시간 서서 작업 또는 피로 누적 | 초점 맞추기 어려움, 스캔 실패 증가 |
| **불안정한 자세** | 서서 스캔, 허리 굽혀 스캔 | 카메라 각도 불안정, 인식률 저하 |
| **잉크/이물질 묻은 손** | 작업 중 손에 잉크나 가루 묻음 | 화면 오염, 터치 오인식 |

### 2.2 바코드 라벨 상태

#### 일반적인 바코드 상태
| 상태 | 원인 | 인식 난이도 |
|------|------|-----------|
| **깨끗한 바코드** | 새로 출력된 주문서 | 쉬움 ⭐ |
| **구겨진 바코드** | 주문서를 주머니에 넣거나 접음 | 중간 ⭐⭐⭐ |
| **일부 가려진 바코드** | 스테이플러 자국, 접착 테이프 | 어려움 ⭐⭐⭐⭐ |
| **흐릿한 바코드** | 잉크 부족, 저품질 프린터 | 어려움 ⭐⭐⭐⭐ |
| **손상된 바코드** | 물에 젖음, 찢어짐, 얼룩 | 매우 어려움 ⭐⭐⭐⭐⭐ |

#### 바코드 위치
- ✅ **이상적**: A4 용지 상단 중앙, 평평하게 배치
- ⚠️ **현실적**:
  - 주문서가 접혀있거나 구겨져 있음
  - 다른 서류 아래에 깔려 있음
  - 제품에 붙어있어 곡면 형태
  - 투명 비닐이나 라미네이팅으로 덮여 있음 (반사 심함)

---

## ⚠️ 3. 예외 상황 및 엣지 케이스

### 3.1 카메라 관련 예외

#### 📷 카메라 접근 실패
| 원인 | 발생 시점 | 해결 방안 |
|------|-----------|-----------|
| 권한 거부 | 최초 실행 | 권한 필요성 설명 + 재요청 UI |
| 다른 앱에서 사용 중 | 앱 전환 후 복귀 | 명확한 에러 메시지 + 가이드 |
| 카메라 하드웨어 고장 | 기기 문제 | 수동 입력 대체 수단 제공 |
| 브라우저 보안 정책 | HTTP 환경 | HTTPS 필수 안내 |

#### 🎥 카메라 초기화 지연
```
일반 스마트폰: 1-2초 (정상)
러기드 PDA: 3-5초 (느림)
저가형 디바이스: 5-10초 (매우 느림)

→ 타임아웃 기본값 10초는 부족할 수 있음
→ 권장: 15초 + 진행 상태 표시
```

#### 🌑 검은 화면 문제 (iOS Safari 특수 케이스)
```
문제: 카메라 권한 허용 후 검은 화면만 보임
원인: iOS에서 video element와 MediaStream 연결 타이밍 이슈
발생률: iOS 사용자의 약 10-20%
해결책:
1. 앱 전환 후 복귀 → 정상 작동
2. 초기화 후 500-1000ms 대기
3. video.play() 명시적 호출
4. Torch 토글 트릭 (플래시 on/off로 초기화)
```

### 3.2 바코드 인식 예외

#### 📊 인식 실패 상황
| 상황 | 원인 | 빈도 | 대응 |
|------|------|------|------|
| **3초 이상 스캔 실패** | 초점 못 맞춤, 손떨림 | 높음 | 수동 포커스 버튼 제공 |
| **잘못된 바코드 인식** | 유사한 다른 바코드 스캔 | 낮음 | 확인 팝업 (주문번호 표시) |
| **부분 인식** | 바코드 일부만 카메라에 들어옴 | 중간 | 가이드 프레임 표시 |
| **연속 중복 스캔** | 같은 바코드 여러 번 인식 | 중간 | 쿨다운 1.5초 적용 |

#### 🔍 어려운 스캔 상황 시나리오
```
시나리오 A: 반사가 심한 라미네이팅 바코드
├─ 문제: 형광등 반사로 바코드 읽히지 않음
├─ 작업자 대응: 각도 바꾸며 여러 번 시도 (10-20회)
└─ 시스템 대응 필요:
    ├─ 자동 노출 조절
    ├─ 반사 감지 시 안내 메시지
    └─ 최종적으로 수동 입력 옵션

시나리오 B: 구겨진 바코드
├─ 문제: 바코드 바가 왜곡되어 인식 실패
├─ 작업자 대응: 주문서를 펴려고 시도 (시간 소요)
└─ 시스템 대응 필요:
    ├─ TRY_HARDER 힌트 사용 (현재 적용됨 ✅)
    ├─ 여러 각도에서 계속 시도
    └─ 5회 실패 시 수동 입력 권장

시나리오 C: 조명이 어두운 환경
├─ 문제: 저조도 환경에서 초점 맞추기 어려움
├─ 작업자 대응: 작업등 아래로 이동 또는 손전등 사용
└─ 시스템 대응 필요:
    ├─ Torch(플래시) 자동 제안
    ├─ 저조도 모드 활성화
    └─ 노출 시간 자동 조절
```

### 3.3 네트워크 관련 예외

#### 📡 API 호출 실패
| 상황 | 원인 | 영향 | 대응 |
|------|------|------|------|
| **3초 초과** | 서버 응답 느림, 네트워크 혼잡 | 사용자 불만 | 로딩 상태 명확히 표시 + 재시도 |
| **타임아웃** | 네트워크 끊김 | 작업 중단 | 오프라인 모드 제안 |
| **404 오류** | 주문번호 없음, 잘못된 스캔 | 혼란 | "해당 주문을 찾을 수 없습니다" 안내 |
| **500 오류** | 서버 문제 | 작업 불가 | 명확한 에러 메시지 + 고객센터 안내 |

#### 🔌 네트워크 연결 상태
```
현장 네트워크 환경:
- ✅ Wi-Fi: 안정적 (사무실 구역)
- ⚠️ Wi-Fi: 불안정 (생산 구역, 철재 구조물 간섭)
- ⚠️ 4G/5G: 건물 내부에서 신호 약함
- ❌ 오프라인: 지하 또는 전파 차단 구역

대응 전략:
1. 네트워크 상태 감지 및 사용자 알림
2. 최근 조회한 주문 로컬 캐싱 (IndexedDB)
3. 오프라인 시 캐시된 데이터 표시 + 배너 안내
4. 네트워크 복구 시 자동 동기화
```

### 3.4 디바이스 관련 예외

#### 📱 다양한 디바이스 환경
| 디바이스 타입 | 특징 | 주의사항 |
|---------------|------|----------|
| **최신 스마트폰** | 고성능 카메라, 빠른 인식 | 화면 크기 다양 (대응형 필수) |
| **중저가 스마트폰** | 카메라 성능 낮음, 느린 처리 | 초기화 시간 길어질 수 있음 |
| **러기드 PDA** | 내구성 강함, 바코드 전용 | 화면 작고 해상도 낮음 |
| **태블릿** | 큰 화면, 관리자용 | 한 손 사용 어려움, 무거움 |

#### 🔋 배터리 및 성능
```
현장 작업 시간: 8-12시간 (1교대 기준)
카메라 사용 시 배터리 소모: 일반의 2-3배

문제 상황:
- 배터리 20% 이하 → 카메라 성능 저하 (iOS 저전력 모드)
- 과열 → 카메라 앱 강제 종료
- 메모리 부족 → 웹앱 리로드

대응:
- 스캔 완료 후 카메라 자동 정지
- 불필요한 백그라운드 프로세스 최소화
- 저전력 모드 감지 시 최적화 적용
```

---

## 💡 4. 현장 작업자 피드백 기반 UX 개선 사항

### 4.1 즉각적인 피드백 필요성

#### 시각적 피드백
```
스캔 성공 시:
├─ ✅ 가이드 프레임 녹색으로 변경 (0.3초)
├─ ✅ 화면 상단에 간단한 주문번호 미리보기
├─ ✅ 부드러운 전환 애니메이션으로 상세 페이지 이동
└─ ✅ 최근 내역에 자동 추가 (백그라운드)

스캔 실패 시:
├─ ⚠️ 가이드 프레임 빨간색으로 짧게 깜빡임
├─ ⚠️ "바코드를 프레임 안에 맞춰주세요" 안내
├─ ⚠️ 3회 실패 후: "수동 포커스 버튼을 눌러보세요"
└─ ⚠️ 5회 실패 후: "수동으로 주문번호를 입력하시겠어요?"
```

#### 촉각적 피드백 (Haptic)
```
스캔 성공: 짧고 강한 진동 (100ms) ✅
스캔 실패: 약한 진동 2회 (50ms × 2) ⚠️
버튼 터치: 미세한 진동 (10ms)
```

#### 청각적 피드백 (선택 사항)
```
스캔 성공: "띠링" 소리 (볼륨 조절 가능)
스캔 실패: "뚝" 소리 (짧고 낮은 톤)
설정: 무음 모드 선택 가능
```

### 4.2 연속 작업 최적화

#### 빠른 다음 스캔 흐름
```
현재 플로우 (4단계):
[스캔] → [주문 확인] → [뒤로가기] → [다시 스캔]

개선된 플로우 (2-3단계):
[스캔] → [주문 확인] → [다음 스캔 FAB 버튼]
                    ↓
            [자동으로 카메라 모드 복귀]

추가 옵션:
- "자동 모드": 5초 후 자동으로 다음 스캔
- "일괄 모드": 여러 개 연속 스캔 후 한 번에 확인
```

#### 최근 내역 빠른 접근
```
현재: 상단 아이콘 → 드로어 열기 → 항목 선택
개선:
  - 화면 우측에서 스와이프 → 드로어 즉시 열기
  - 최근 3개 항목을 FAB 메뉴에 표시 (Quick Access)
  - 주문번호 음성 검색 기능 (핸즈프리)
```

### 4.3 장갑 착용 대응 UX

#### 터치 영역 확대
```
일반 권장: 44x44px
현장 권장: 56x56px (장갑 착용 시)

주요 버튼:
- 스캔 시작/중지: 72x72px (큰 FAB 버튼)
- 다음 스캔: 56x56px
- 포커스 버튼: 56x56px
- Torch 토글: 56x56px
```

#### 제스처 단순화
```
❌ 피해야 할 제스처:
- 더블 탭 (장갑으로 정확도 낮음)
- 길게 누르기 (인식률 낮음)
- 복잡한 멀티 터치

✅ 권장 제스처:
- 단순 탭 (한 번 터치)
- 좌우 스와이프 (큰 동작)
- 상하 스크롤 (자연스러운 동작)
```

### 4.4 조명 환경 자동 대응

#### 스마트 조명 감지
```
시스템 동작:
1. 카메라 초기화 시 주변 조도 측정
2. 조도별 자동 설정:

   밝음 (>500 lux):
   ├─ 노출 자동 조절 (반사 최소화)
   ├─ Torch 비활성화 권장
   └─ "반사가 심하면 각도를 바꿔보세요" 안내

   보통 (100-500 lux):
   ├─ 표준 설정 유지
   └─ 추가 조정 불필요

   어두움 (<100 lux):
   ├─ Torch 자동 켜기 제안 팝업
   ├─ 노출 시간 증가 (저조도 최적화)
   └─ "어두운 환경이 감지되었습니다. 플래시를 켜시겠어요?"
```

### 4.5 오류 복구 가이드

#### 단계별 자동 가이드
```
1회 실패: (자동 재시도, 무음)
2회 실패: "바코드를 프레임 중앙에 맞춰주세요"
3회 실패: "포커스 버튼(🎯)을 눌러보세요"
4회 실패: "플래시를 켜시겠어요?" [켜기] [무시]
5회 실패: "수동으로 주문번호를 입력하시겠어요?" [입력] [재시도]
```

---

## 🎯 5. 기술적 요구사항 재설계

### 5.1 카메라 초기화 전략

#### 개선된 초기화 시퀀스
```typescript
// 우선순위별 초기화 단계

1단계: 브라우저 호환성 체크 (100ms)
   ├─ MediaDevices API 지원 확인
   ├─ getUserMedia 지원 확인
   └─ 지원 안 됨 → 명확한 에러 + 대체 수단

2단계: 권한 체크 및 요청 (500-2000ms)
   ├─ 권한 상태 확인
   ├─ 필요 시 사용자 친화적 설명 후 요청
   └─ 거부 시 → 권한 설정 가이드 표시

3단계: 카메라 디바이스 열거 (300-1000ms)
   ├─ 사용 가능한 카메라 목록 조회
   ├─ 후면 카메라 우선 선택 (environment)
   └─ 없으면 전면 카메라 사용

4단계: MediaStream 획득 (1000-3000ms)
   ├─ 최적 해상도 요청 (1920x1080)
   ├─ iOS/Safari 특별 처리 (500ms 추가 대기)
   └─ 실패 시 낮은 해상도로 폴백

5단계: Video Element 연결 (500-2000ms)
   ├─ srcObject 설정
   ├─ 메타데이터 로딩 대기 (최대 15초)
   ├─ video.play() 명시적 호출
   └─ 재생 실패 시 재시도 (최대 3회)

6단계: ZXing 초기화 (200-500ms)
   ├─ BrowserMultiFormatReader 생성
   ├─ TRY_HARDER 힌트 설정
   └─ 스캔 루프 시작

총 예상 시간: 2.6초 ~ 9.5초 (평균 4-5초)
타임아웃 설정: 15초 (여유있게)
```

#### 디바이스별 최적화
```typescript
// iOS Safari 특별 처리
if (isIOS() && isSafari()) {
  await startStream();
  await new Promise(resolve => setTimeout(resolve, 500)); // 증가: 300ms → 500ms

  // Torch 토글 트릭 (검은 화면 문제 해결)
  if (torchSupported) {
    await toggleTorch(true);
    await new Promise(resolve => setTimeout(resolve, 100));
    await toggleTorch(false);
  }

  // video.play() 명시적 재시도
  for (let i = 0; i < 3; i++) {
    try {
      await videoElement.play();
      break;
    } catch (err) {
      if (i === 2) throw err;
      await new Promise(resolve => setTimeout(resolve, 200));
    }
  }
}

// Android 최적화
if (isAndroid()) {
  // 일부 Android 브라우저에서 autoPlay가 작동하지 않음
  videoElement.muted = true;
  videoElement.autoplay = true;
  videoElement.playsInline = true;
}

// 러기드 PDA 최적화
if (isRuggedDevice()) {
  // 낮은 성능의 디바이스는 해상도 낮춤
  constraints.video = {
    ...constraints.video,
    width: { ideal: 1280 },
    height: { ideal: 720 },
  };
}
```

### 5.2 바코드 인식 최적화

#### 다단계 인식 전략
```typescript
// 1차: 빠른 스캔 (TRY_HARDER 없음)
decodeHints.set(DecodeHintType.TRY_HARDER, false);
// → 깨끗한 바코드는 빠르게 인식 (100-200ms)

// 3초 후에도 인식 실패 시
// 2차: 정밀 스캔 (TRY_HARDER 활성화)
decodeHints.set(DecodeHintType.TRY_HARDER, true);
// → 어렵운 바코드도 인식 시도 (300-500ms)

// 5초 후에도 인식 실패 시
// 3차: 포커스 안내
showMessage("포커스 버튼(🎯)을 눌러 초점을 맞춰보세요");

// 10초 후에도 인식 실패 시
// 4차: 수동 입력 제안
showManualInputOption();
```

#### 중복 스캔 방지 개선
```typescript
// 현재: 1.5초 쿨다운
const COOLDOWN_MS = 1500;

// 개선: 스마트 쿨다운
const smartCooldown = (lastResult: string, newResult: string) => {
  if (lastResult === newResult) {
    // 같은 바코드: 1.5초 쿨다운
    return 1500;
  } else {
    // 다른 바코드: 즉시 허용 (연속 작업 지원)
    return 0;
  }
};
```

### 5.3 네트워크 및 오프라인 전략

#### API 호출 최적화
```typescript
// 1. Timeout 설정
const API_TIMEOUT = 5000; // 5초

// 2. 재시도 로직 (Exponential Backoff)
const fetchWithRetry = async (url, retries = 3) => {
  for (let i = 0; i < retries; i++) {
    try {
      const response = await fetch(url, { timeout: API_TIMEOUT });
      return response;
    } catch (err) {
      if (i === retries - 1) throw err;
      await new Promise(resolve => setTimeout(resolve, 1000 * (i + 1)));
    }
  }
};

// 3. 오프라인 캐싱
const cacheOrder = async (orderNo: string, data: OrderData) => {
  await indexedDB.put('orders', { orderNo, data, cachedAt: Date.now() });
};

const getCachedOrder = async (orderNo: string) => {
  const cached = await indexedDB.get('orders', orderNo);
  if (cached && Date.now() - cached.cachedAt < 3600000) { // 1시간 유효
    return cached.data;
  }
  return null;
};
```

#### 네트워크 상태 감지
```typescript
// 온라인/오프라인 감지
window.addEventListener('online', () => {
  showToast('네트워크가 복구되었습니다', 'success');
  syncPendingRequests();
});

window.addEventListener('offline', () => {
  showToast('오프라인 모드입니다. 캐시된 데이터를 표시합니다', 'warning');
});

// 네트워크 품질 감지
const connection = navigator.connection;
if (connection) {
  if (connection.effectiveType === 'slow-2g' || connection.effectiveType === '2g') {
    showToast('네트워크가 느립니다. 로딩 시간이 길어질 수 있습니다', 'warning');
  }
}
```

---

## 📊 6. 성공 지표 및 모니터링

### 6.1 핵심 성능 지표 (KPI)

| 지표 | 목표 | 현실적 목표 | 측정 방법 |
|------|------|-------------|-----------|
| **스캔 성공률** | 95% | 85-90% | (성공 횟수 / 전체 시도) × 100 |
| **평균 스캔 시간** | 3초 | 3-5초 | 바코드 인식 시작 ~ 주문 표시 |
| **API 응답 시간** | 1초 | 1-2초 | API 호출 ~ 데이터 수신 |
| **카메라 초기화 시간** | 2초 | 3-5초 | 권한 허용 ~ 카메라 준비 완료 |
| **오류 발생률** | <5% | <10% | (오류 세션 / 전체 세션) × 100 |

### 6.2 사용자 경험 지표

| 지표 | 목표 | 측정 방법 |
|------|------|-----------|
| **재시도 횟수** | 평균 1.5회 이하 | 스캔 성공까지 시도 횟수 |
| **수동 입력 비율** | <10% | 수동 입력 / 전체 조회 |
| **최근 내역 사용률** | >60% | 최근 내역 접근 / 전체 조회 |
| **세션당 스캔 횟수** | 10-20개 | 한 세션에서 스캔한 주문 수 |

### 6.3 모니터링 및 로깅

#### 수집할 이벤트
```typescript
// 카메라 관련
- camera_permission_requested
- camera_permission_granted / denied
- camera_init_started / completed / failed
- camera_black_screen_detected (iOS)

// 스캔 관련
- barcode_scan_attempted
- barcode_scan_success (duration)
- barcode_scan_failed (reason, attempt_count)
- manual_input_used

// API 관련
- api_request_sent
- api_response_received (status, duration)
- api_timeout
- api_error (status_code, error_message)

// 사용자 행동
- recent_history_opened
- image_viewer_opened
- manual_focus_triggered
- torch_toggled
```

#### 에러 추적
```typescript
// 에러 분류
ERROR_CATEGORIES = {
  CAMERA_PERMISSION: '카메라 권한 거부',
  CAMERA_INIT_TIMEOUT: '카메라 초기화 시간 초과',
  CAMERA_BLACK_SCREEN: '검은 화면 (iOS)',
  BARCODE_NOT_FOUND: '바코드 인식 실패',
  API_TIMEOUT: 'API 응답 없음',
  API_ERROR: 'API 오류',
  NETWORK_OFFLINE: '네트워크 오프라인',
  ORDER_NOT_FOUND: '주문 없음 (404)',
};

// 에러 로깅
const logError = (category, details) => {
  analytics.track('error_occurred', {
    category,
    details,
    deviceType: navigator.userAgent,
    timestamp: Date.now(),
  });
};
```

---

## 🚀 7. 단계별 구현 우선순위

### Phase 1: 안정성 확보 (1-2주)
- [x] @zxing/browser 최신 버전 확인 (v0.1.5 ✅)
- [ ] 비디오 준비 로직 개선 (타임아웃 15초로 증가)
- [ ] iOS/Safari 특별 처리 강화 (500ms 대기 + Torch 토글)
- [ ] video.play() 재시도 로직 추가
- [ ] 명확한 에러 메시지 및 로깅 강화

### Phase 2: 현장 UX 개선 (2-3주)
- [ ] 장갑 착용 대응 (버튼 크기 확대, 터치 영역 증가)
- [ ] 스마트 조명 감지 및 Torch 자동 제안
- [ ] 단계별 자동 가이드 (5회 실패 시 수동 입력 제안)
- [ ] 연속 스캔 최적화 ("다음 스캔" FAB 버튼)
- [ ] 최근 내역 빠른 접근 (스와이프 제스처)

### Phase 3: 성능 최적화 (1주)
- [ ] 다단계 인식 전략 (빠른 스캔 → 정밀 스캔)
- [ ] 스마트 쿨다운 (같은 바코드는 차단, 다른 바코드는 즉시)
- [ ] API 호출 최적화 (Timeout, Retry, Backoff)
- [ ] 디바이스별 최적화 (iOS, Android, 러기드 PDA)

### Phase 4: 오프라인 지원 (1-2주)
- [ ] IndexedDB 캐싱 구현
- [ ] 네트워크 상태 감지 및 사용자 알림
- [ ] 오프라인 모드에서 캐시된 데이터 표시
- [ ] 네트워크 복구 시 자동 동기화

### Phase 5: 모니터링 및 분석 (1주)
- [ ] 핵심 이벤트 로깅
- [ ] 에러 추적 시스템
- [ ] 성능 지표 대시보드
- [ ] 사용자 피드백 수집 메커니즘

---

## ✅ 결론 및 다음 단계

### 핵심 인사이트
1. **단순한 기술 문제가 아님**: 산업 현장의 물리적 환경(조명, 먼지, 장갑)과 작업 특성(연속 스캔, 빠른 처리)을 모두 고려해야 함
2. **iOS/Safari 특수 케이스**: 검은 화면 문제는 알려진 버그로, 명확한 해결책 필요
3. **오류 복구 경로**: 스캔 실패 시 단계별 가이드와 최종적으로 수동 입력 대체 수단 필수
4. **연속 작업 최적화**: 현장에서는 10-20개 주문을 연속으로 처리하므로, 빠른 다음 스캔 흐름이 중요

### 즉시 적용 가능한 개선사항 (Quick Wins)
1. ✅ 타임아웃 10초 → 15초 증가
2. ✅ iOS 대기 시간 300ms → 500ms 증가
3. ✅ video.play() 재시도 로직 추가 (3회)
4. ✅ 5회 실패 시 수동 입력 옵션 표시
5. ✅ 버튼 크기 44px → 56px (장갑 대응)

### 다음 단계
지금부터 **Phase 1 (안정성 확보)** 작업을 단계별로 진행하시겠습니까?

1. 비디오 준비 로직 개선
2. iOS/Safari 특별 처리 강화
3. 카메라 초기화 시퀀스 개선
4. 테스트 및 검증

---

**작성자**: AI Assistant
**검토 필요**: 현장 작업자 김라인, 작업 관리자 박매니
**다음 리뷰**: 2025-01-21
